# Amphi 5
**Rappels amphi 4:**  
Soit $A = (a_p\ldots a_0)_{10}$  
$A$ est divisible par:
 - **2** (resp. 5) si $a_0$ l'est
 - **4** si $a_1a_0$ l'est
 - **8** si $a_2a_1a_0$ l'est
 - **3** (resp. 9) si $a_p + \ldots + a_0$ l'est
 - **11** si $(-1)^p a_p + \ldots + a_2 - a_1 + a_0$ l'est
 - **6** si $A$ est divisible par 2 et par 3
 - **7** si $(a_p\ldots a_1)_{10} + 5a_0$ l'est


...
**Les nombres $b$-adiques pour une base $b > 1$**
 - Il y a exactement $b$ chiffres, disons $\{0, 1, \ldots, b-1\}$
 - $(\ldots a_2 a_1 a_0, a_{-1} a_{-2} \ldots a_{-q})_b$ représente le nombre $b$-adique $\sum_{k=-q}^{+\infty} a_k b^k$
 - Tout nombre $b$-adique admet un opposé $b$-adique (ou complément)
	 - $\ldots 001_{10} + \ldots 999_{10} = 0$
	 - $\ldots 001_2 + \ldots 111_2 = 0$
	 - $\ldots 001_{d+1} + \ldots dddd_{d+1} = 0$
 - Exemple : en base $b$, $-1 = \ldots 111_b$ (une infinité de $1$)

## Criètre de divisibilité par d en base d
(On généralise les critères au dessus)  

**Critère sur un suffixe court**
$$
b^k \equiv 0 [d]: (a_p \ldots a_0)_b \equiv 0 [d] \iff (a_{k-1} \ldots a_0)_b \equiv 0 [d]
$$

**Critère sur toute la longueur**
$$
b^k \equiv \pm 1 [d]: (a_p \ldots a_0)_b \equiv 0 [d] \iff \pm a_p + \ldots + a_2 \pm a_1 + a_0 \equiv 0 [d]
$$

**Critère Hybride**

$$
mb^k \equiv \pm 1 \ [d] :\ (a_p \ldots a_0)_b \equiv 0 \ [d] \iff (a_p \ldots a_k)_b \pm n(a_{k-1} \ldots a_0)_b \equiv 0 \ [d]
$$

Critères obtenus comme conjonction de **Suffixe**, **Longueur** ou **Hybride**.

## Entiers en machine

Il faut faire un choix pour **fixer la taille des représentations**. Il y a une **infinité de choix**, sauf si on borne les nombres à représenter?
- Architectures communes 32 ou 64 bits: arithmétique sur des nombres représentés sur 32 ou 64 bits.
$2^{32} \approx 4{,}3 \times 10^9$  
 $2^{64} \approx 18{,}4 \times 10^{18}$

## Entiers positifs et négatifs

- **Non-signé (unsigned)**  
    - Valeurs possibles : $0$  à  $255$  $(0$ $à$ $2^8 - 1)$  
        - Exemple :  
            - $11001010_2 = 202_{10}$

- **Signé (signed, complément à deux)**  
    - Valeurs possibles : $-128$ à $127$ $(-2^7$ $à$ $2^7 - 1)$  
    - Exemple :  
        - $11001010_2$  
            - Interprétation signée : $-54_{10}$  
            - Calcul : $256 - 202 = 54 \Rightarrow -54$

Remarque: 0 est compté positif. Il y a donc autant de nombres positifs que négatifs.


En **complément à deux**, pour passer de positif à négatif et inversement:
- On inverse les bits (soit $b$ la base et $n$ la valeur d'un bit. Son complément est de valeur $b-n-1$*)
- On ajoute 1.  


*$-1$ car les nombres possible d'une représentation en base $b$ sont $\{0, \ldots , b-1\}$  

**Exemple avec $54$ et $-54$**:
- +54 en binaire 8 bits : $00110110$
- On inverse les bits : $11001001$
- On ajoute 1 : $11001010$ → représentation en complément à deux de **-54**


## Norme IEEE 754

**Exemple**:  
**Etape 1**: On écrit le nombre en notation scientifique. 

$(101,10\overline{0011})_2 = ($+$1,\underline{01}10\overline{0011} \times 10^{10}$*$)_2$  
*Equivalent à $2^2$: on décale de deux rangs la virgule.

**Etape 2**:  
On a multiplié par $(10^{\underline{10}})_2$: on obtient l'**exposant non biaisé** avec l'exposant **sur 8 bits**: $00000010$

**Etape 3**:  
On rajoute un **biais** à l'exposant. Sa valeur est $01111111$

```
  01111111
+ 00000010
  ---------
  10000001
```

**Etape 4**:  
On cherche la mantisse.  
$($+$1,\underline{0110\overline{0011}} \times 10^{10})_2$   
Les nombres après la virgule correspond à la **mantisse**, sur **23 bits**.

**Etape 5**:  
On déduit le premier bit de la représentation finale en fonction du signe du nombre binaire flottant initial ($+$ ici).

**Etape 6**:  
Enfin, on en déduit le nombre selon la norme IEEE 754.

$0$ $10000001$ $011'0001'1011'0011'0011'0\underline{01}1$  
 Pour les derniers bits, on arrondit au plus proche. (??)  
$0$ $10000001$ $011'0001'1011'0011'0011'00\underline{10}1$  
